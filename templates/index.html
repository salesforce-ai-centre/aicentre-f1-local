<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Real-time Dashboard</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <!-- Add gauge.js library -->
    <script src="/static/js/gauge.min.js"></script>
</head>
<body>
    <h1>F1 Live Telemetry</h1>
    <div class="grid-container">
        <!-- Session Info -->
        <div class="card session-info">
            <h2>Session</h2>
            <p>Driver: <span id="driverName">---</span></p>
            <p>Track: <span id="trackName">---</span></p>
            <p>Lap: <span id="lapNumber">--</span></p>
            <p>Position: <span id="position">--</span></p> <!-- Need position data -->
            <p>Lap Time: <span id="lapTimeSoFar">--:--.---</span></p>
            <p>Last Lap: <span id="lastLapTime">--:--.---</span></p>
            <p>Sector: <span id="sector">--</span></p>
            <p>Lap Valid: <span id="lapValid">---</span></p>
        </div>

        <!-- Core Gauges -->
        <div class="card gauges">
            <h2>Vitals</h2>
            <div class="gauge-container">
                <canvas id="speedGauge" class="gauge"></canvas>
                <div class="gauge-label">Speed (KM/H)</div>
            </div>
             <div class="gauge-container">
                <canvas id="rpmGauge" class="gauge"></canvas>
                <div class="gauge-label">RPM</div>
            </div>
            <div class="gear-display">
                Gear: <span id="gear">N</span>
            </div>
        </div>

        <!-- Input Bars -->
        <div class="card inputs">
             <h2>Inputs</h2>
             <div class="bar-container">
                 <label for="throttleBar">Throttle:</label>
                 <progress id="throttleBar" max="1" value="0"></progress>
                 <span id="throttleValue">0%</span>
             </div>
             <div class="bar-container">
                 <label for="brakeBar">Brake:</label>
                 <progress id="brakeBar" max="1" value="0"></progress>
                 <span id="brakeValue">0%</span>
             </div>
        </div>

        <!-- Tyres & Temps -->
        <div class="card tyres">
            <h2>Tyres & Temps</h2>
            <p>Compound: <span id="tyreCompound">---</span></p>
            <div class="tyre-grid">
                <div>FL: <span id="tyreWearFL">--</span>% <span id="brakeTempFL">--</span>째C</div>
                <div>FR: <span id="tyreWearFR">--</span>% <span id="brakeTempFR">--</span>째C</div>
                <div>RL: <span id="tyreWearRL">--</span>% <span id="brakeTempRL">--</span>째C</div>
                <div>RR: <span id="tyreWearRR">--</span>% <span id="brakeTempRR">--</span>째C</div>
            </div>
        </div>

        <!-- ERS & DRS -->
        <div class="card ers-drs">
            <h2>ERS & DRS</h2>
            <div class="status-indicator">
                DRS: <span id="drsStatus" class="status-off">INACTIVE</span>
            </div>
             <div class="bar-container">
                 <label for="ersStoreBar">ERS Store:</label>
                 <!-- Assuming 4MJ max store -->
                 <progress id="ersStoreBar" max="4000000" value="0"></progress>
                 <span id="ersStoreValue">0%</span>
             </div>
             <p>Deploy Mode: <span id="ersDeployMode">---</span></p>
        </div>

         <!-- Damage Report -->
        <div class="card damage">
            <h2>Damage (%)</h2>
             <div class="damage-grid">
                <div>Wing FL: <span id="damageWingFL">0</span></div>
                <div>Wing FR: <span id="damageWingFR">0</span></div>
                <div>Wing R: <span id="damageWingR">0</span></div>
                <div>Floor: <span id="damageFloor">0</span></div>
                <div>Gearbox: <span id="damageGearbox">0</span></div>
                <div>Engine: <span id="damageEngine">0</span></div>
             </div>
        </div>

        <!-- Event Log -->
        <div class="card event-log full-width">
            <h2>Events & Alerts</h2>
            <ul id="eventList">
                <li>Waiting for events...</li>
            </ul>
        </div>
    </div>

    <script src="/static/js/script.js"></script>
</body>
</html>